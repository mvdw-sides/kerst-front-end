(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(60)},32:function(e,t,a){},36:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),c=a.n(s),l=(a(32),a(2)),u=a.n(l),i=a(8),o=a(9),m=a(10),p=a(13),h=a(11),d=a(12),f=a(4),E=a(61),b=a(64),v=a(63),g=(a(36),a(24)),k=a.n(g),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this))).props=e,a.state={users:e.users},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"select",value:function(e){this.props.setUser(e)}},{key:"render",value:function(){var e=this,t=this.state.users.map(function(t,a){return r.a.createElement("div",{key:a,className:"profile",onClick:function(){return e.select(t)}},r.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(t.image,")"),border:"2px solid ".concat(t.color)}}),r.a.createElement("span",null,t.name))});return r.a.createElement("section",{className:"box"},r.a.createElement("h3",null,"En jij bent?"),r.a.createElement("div",{className:"user-select"},t))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),console.log(e),(a=Object(p.a)(this,Object(h.a)(t).call(this))).props=e,a.state={users:e.users,user:e.user,items:[],product:"",link:"",price:"",factor:""},a.addItem=a.addItem.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.required(this.state.user),this.getItems()}},{key:"getItems",value:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.req.get("/users/".concat(this.state.user._id));case 2:t=e.sent,this.setState({items:t.data.items});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addItem",value:function(){var e=Object(i.a)(u.a.mark(function e(t){var a,n,r,s,c,l,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state,n=a.items,r=a.product,s=a.link,c=a.price,l=a.factor,r&&""!==r&&r.length){e.next=4;break}return e.abrupt("return",!1);case 4:return n.push({product:r,link:s,price:c,factor:l}),e.next=7,this.props.req.post("/users/".concat(this.state.user._id),{product:r,link:s,price:c,factor:l});case 7:i=e.sent,this.setState({items:i.data.items});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.items;if(!a)return r.a.createElement("div",null);var s=n.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.product),r.a.createElement("td",null,e.link),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.factor))});return r.a.createElement("section",{className:"box padded"},r.a.createElement("h3",null,"Hey ",a.name,"!"),r.a.createElement("div",{className:"formWrapper"},r.a.createElement("form",{onSubmit:this.addItem},r.a.createElement("span",null,"Wat*"),r.a.createElement("input",{type:"text",name:"product",required:!0,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("span",null,"Link"),r.a.createElement("input",{type:"text",name:"link",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("span",null,"Prijs"),r.a.createElement("select",{name:"price",onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{selected:!0},"\u20ac1-\u20ac10"),r.a.createElement("option",null,"\u20ac10-\u20ac25"),r.a.createElement("option",null,"\u20ac25-\u20ac50"),r.a.createElement("option",null,"\u20ac50-\u20ac100"),r.a.createElement("option",null,"\u20ac100+")),r.a.createElement("span",null,"Hoe graag hebben factor (1 is laag, 5 is hoog)"),r.a.createElement("select",{name:"factor",onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",{selected:!0},"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5")),r.a.createElement("button",{className:"btn btnLarge"},"Opslaan"))),r.a.createElement("h3",null,"Jouw huidige lijst:"),r.a.createElement("div",{className:"tableWrapper"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Link"),r.a.createElement("th",null,"Prijs"),r.a.createElement("th",null,"Factor"))),r.a.createElement("tbody",null,s))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this))).props=e,a.state={users:e.users,user:e.user,items:[]},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.required(this.state.user),this.getItems()}},{key:"getItems",value:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.req.get("/users/".concat(this.state.user._id,"/overview"));case 2:t=e.sent,this.setState({items:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"purchase",value:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.req.post("/users/".concat(this.state.user._id,"/purchases"),{_id:t});case 2:a=this.state.items.filter(function(e){return e.item._id!==t}),this.setState({items:a});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.items;if(!a)return r.a.createElement("div",null);var s=n.map(function(t,a){var n=t.item.link?r.a.createElement("a",{href:t.item.link,rel:"noopener noreferrer",target:"_blank"},"Link"):null;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("div",{style:{float:"left",display:"inline-block",border:"2px solid ".concat(t.user.color),width:"20px",height:"20px",borderRadius:"100px",backgroundSize:"contain",backgroundImage:"url(".concat(t.user.image,")")}}),r.a.createElement("span",{style:{float:"left",color:t.user.color,paddingLeft:"5px"}},t.user.name)),r.a.createElement("td",null,t.item.product),r.a.createElement("td",null,n),r.a.createElement("td",null,t.item.price),r.a.createElement("td",null,t.item.factor),r.a.createElement("td",null,r.a.createElement("span",{className:"btn btnSmall",onClick:function(){e.purchase(t.item._id)}},"Meld als gekocht")))});return r.a.createElement("section",{className:"box padded overview"},r.a.createElement("h3",null,"De huidige lijst:"),r.a.createElement("div",{className:"tableWrapper"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Gebruiker"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Link"),r.a.createElement("th",null,"Prijs"),r.a.createElement("th",null,"Factor"),r.a.createElement("th",null,"status"))),r.a.createElement("tbody",null,s))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this))).props=e,a.state={password:""},a.setPass=a.setPass.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"setPass",value:function(e){e.preventDefault();var t=this.state.password;this.props.setPass(t)}},{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"box padded"},r.a.createElement("h3",null,"Wachtwoord:"),r.a.createElement("div",{className:""},r.a.createElement("form",{onSubmit:this.setPass},r.a.createElement("input",{type:"text",name:"password",placeholder:"wachtwoord, staat in de famapp",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{className:"btn"},"Inloggen"))),r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"center",fontSize:".7em",marginTop:"40px"}},"Voor alle lieve mensen die deze pagina via github hebben gevonden \u2764 stuur me even een berichtje, doen we een keer een biertje \ud83c\udf7a.")))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this))).props=e,a.req=null,a.state={users:[],user:null,auth:null,message:null},a.setUser=a.setUser.bind(Object(f.a)(Object(f.a)(a))),a.required=a.required.bind(Object(f.a)(Object(f.a)(a))),a.setPass=a.setPass.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPassword();case 2:return e.next=4,this.setReq();case 4:this.getUsers();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setReq",value:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.a.create({baseURL:this.props.base,headers:{common:{Authorization:this.state.auth}}}),this.req=t,e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getPassword",value:function(){var e=localStorage.getItem("pw");this.setState({auth:e})}},{key:"setPass",value:function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("pw",t),this.setState({auth:t}),e.next=4,this.getPassword();case 4:return e.next=6,this.setReq();case 6:this.getUsers();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setUser",value:function(e){return this.setState({user:e}),this.props.history.push("/user/".concat(e._id))}},{key:"required",value:function(e){return!!e||(this.props.history.push("/"),!1)}},{key:"getUsers",value:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.req.get("/users");case 3:t=e.sent,this.setState({users:t.data,message:null}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),localStorage.removeItem("pw"),this.setState({auth:null,message:"verkeerde wachtwoord"});case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.state,n=a.users,s=a.user,c=a.auth,l=a.message,u=l&&c?r.a.createElement("h5",{style:{color:"red",textAlign:"center"}},l):null;return s&&(e=r.a.createElement("div",{className:"menu"},r.a.createElement(E.a,{to:"/overview"},"Overzicht"),r.a.createElement(E.a,{to:"/user/".concat(s._id)},"Mijn lijstje"))),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement("h2",null,r.a.createElement("i",{className:"ion ion-ios-list-outline"})," ",r.a.createElement("br",null)," kerst wens lijstjes"),e),u,c?r.a.createElement(b.a,null,r.a.createElement(v.a,{exact:!0,path:"/",component:function(e){return r.a.createElement(j,Object.assign({},t.props,{req:t.req},e,{users:n,setUser:t.setUser}))}}),r.a.createElement(v.a,{exact:!0,path:"/user/:userId",component:function(e){return r.a.createElement(O,Object.assign({},t.props,{req:t.req,required:t.required},e,{users:n,user:s}))}}),r.a.createElement(v.a,{exact:!0,path:"/overview",component:function(e){return r.a.createElement(y,Object.assign({},t.props,{req:t.req,required:t.required},e,{users:n,user:s}))}})):r.a.createElement(w,Object.assign({},this.props,{setPass:this.setPass})))}}]),t}(n.Component),q=a(62);c.a.render(r.a.createElement("div",null,r.a.createElement(q.a,null,r.a.createElement(v.a,{path:"/",render:function(e){return r.a.createElement(x,Object.assign({},e,{base:"https://vdweem-kerst-api.herokuapp.com"}))},public:!0}))),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.7cd143bc.chunk.js.map